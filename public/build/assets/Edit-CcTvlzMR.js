import{T as V,c as U,o as d,w as p,a as e,b as x,t as l,u as o,i as _,g as y,j as C,k as m,e as u,f as g,n as v,v as f,l as F,F as P,h as $}from"./app-6WrkzCY0.js";import{_ as j}from"./AppLayout-CGIFyAak.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"font-semibold text-xl text-gray-800 leading-tight"},B={class:"py-12"},E={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},q={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},D={class:"p-6"},M={class:"flex justify-between items-center mb-6"},T={class:"text-3xl font-bold text-gray-900"},A={key:0,class:"mt-1 text-sm text-red-600"},O={class:"mt-1 relative rounded-md shadow-sm"},S={key:0,class:"mt-1 text-sm text-red-600"},z={class:"flex items-center"},L={class:"flex justify-between items-start mb-3"},R={class:"text-sm font-medium text-gray-700"},G=["onClick"],H={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},I=["for"],J=["id","onUpdate:modelValue"],K=["for"],Q=["id","onUpdate:modelValue"],W={class:"flex justify-end space-x-3"},X=["disabled"],te={__name:"Edit",props:{plan:Object},setup(b){const i=b,t=V({name:i.plan.name,price:i.plan.price,is_active:i.plan.is_active,features:i.plan.features.length>0?i.plan.features.map(a=>({feature_name:a.feature_name,description:a.description||""})):[{feature_name:"",description:""}]}),h=()=>{t.features.push({feature_name:"",description:""})},w=a=>{t.features.length>1&&t.features.splice(a,1)},k=()=>{t.features=t.features.filter(a=>a.feature_name.trim()!==""),t.put(route("admin.plans.update",i.plan.id))};return(a,s)=>(d(),U(j,{title:"Edit Plan"},{header:p(()=>[e("h2",N," Edit Plan: "+l(b.plan.name),1)]),default:p(()=>[e("div",B,[e("div",E,[e("div",q,[e("div",D,[e("div",M,[e("h1",T,"Edit Plan: "+l(b.plan.name),1),x(o(_),{href:a.route("admin.plans.index"),class:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"},{default:p(()=>s[3]||(s[3]=[y(" Back to Plans ",-1)])),_:1,__:[3]},8,["href"])]),e("form",{onSubmit:C(k,["prevent"]),class:"space-y-6"},[e("div",null,[s[4]||(s[4]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," Plan Name ",-1)),m(e("input",{id:"name","onUpdate:modelValue":s[0]||(s[0]=r=>o(t).name=r),type:"text",required:"",class:v(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",{"border-red-500":o(t).errors.name}])},null,2),[[f,o(t).name]]),o(t).errors.name?(d(),u("div",A,l(o(t).errors.name),1)):g("",!0)]),e("div",null,[s[6]||(s[6]=e("label",{for:"price",class:"block text-sm font-medium text-gray-700"}," Price ",-1)),e("div",O,[s[5]||(s[5]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),m(e("input",{id:"price","onUpdate:modelValue":s[1]||(s[1]=r=>o(t).price=r),type:"number",step:"0.01",min:"0",required:"",class:v(["pl-7 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",{"border-red-500":o(t).errors.price}])},null,2),[[f,o(t).price]])]),o(t).errors.price?(d(),u("div",S,l(o(t).errors.price),1)):g("",!0)]),e("div",null,[e("label",z,[m(e("input",{"onUpdate:modelValue":s[2]||(s[2]=r=>o(t).is_active=r),type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[F,o(t).is_active]]),s[7]||(s[7]=e("span",{class:"ml-2 text-sm text-gray-700"},"Active Plan",-1))])]),e("div",null,[e("div",{class:"flex justify-between items-center mb-4"},[s[8]||(s[8]=e("label",{class:"block text-sm font-medium text-gray-700"}," Features ",-1)),e("button",{type:"button",onClick:h,class:"bg-green-600 hover:bg-green-700 text-white text-sm font-bold py-1 px-3 rounded"}," Add Feature ")]),(d(!0),u(P,null,$(o(t).features,(r,n)=>(d(),u("div",{key:n,class:"border border-gray-200 rounded-lg p-4 mb-4"},[e("div",L,[e("h4",R,"Feature "+l(n+1),1),o(t).features.length>1?(d(),u("button",{key:0,type:"button",onClick:c=>w(n),class:"text-red-600 hover:text-red-800 text-sm"}," Remove ",8,G)):g("",!0)]),e("div",H,[e("div",null,[e("label",{for:`feature_name_${n}`,class:"block text-sm font-medium text-gray-700"}," Feature Name ",8,I),m(e("input",{id:`feature_name_${n}`,"onUpdate:modelValue":c=>r.feature_name=c,type:"text",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,8,J),[[f,r.feature_name]])]),e("div",null,[e("label",{for:`feature_description_${n}`,class:"block text-sm font-medium text-gray-700"}," Description (Optional) ",8,K),m(e("input",{id:`feature_description_${n}`,"onUpdate:modelValue":c=>r.description=c,type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,8,Q),[[f,r.description]])])])]))),128))]),e("div",W,[x(o(_),{href:a.route("admin.plans.index"),class:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"},{default:p(()=>s[9]||(s[9]=[y(" Cancel ",-1)])),_:1,__:[9]},8,["href"]),e("button",{type:"submit",disabled:o(t).processing,class:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white font-bold py-2 px-4 rounded"},l(o(t).processing?"Updating...":"Update Plan"),9,X)])],32)])])])])]),_:1}))}};export{te as default};
